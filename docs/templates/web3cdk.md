# Claude Code Configuration - Web3 CDK Development

## (重要)プロジェクトの目的
ベストプラクティスな方法でcdkを効率的に立ち上げるツール群を構築したい。
シンプルで確実な方法で一歩一歩進める。

## 🎯 設計思想：初学者と上級者のバランス

### 基本方針：「初学者ファースト、上級者配慮」
- **プロジェクト構成**: ルートディレクトリはすっきり、役割別のディレクトリ分け
- **メイン機能**: 初学者が迷わないシンプルなコマンド
- **拡張機能**: 上級者向けはTipsやコラムとして紹介
- **学習段階**: 段階的にスキルアップできる設計

### コマンド設計の考え方
```
🎓 初学者向け（メイン）:
  npm run deploy:dev    # 簡単！分かりやすい！
  npm run diff:prod     # 何をするか一目瞭然！

🚀 上級者向け（Tips）:
  npx cdk deploy stack-name    # 柔軟性重視
  npx cdk diff --all          # 詳細制御
```

## 🌱 継続的開発における健全性の原則

### 🏗️ 基本理念
**「最初の数時間が将来を決める」**
- 構造的健全性がシステム信頼性の基盤
- ドキュメント正確性も含む総合的健全性
- クリーンな構造の自己強化サイクル効果

### 📋 健全性の3つの柱

#### 🔒 1. 構造的健全性
- **機密管理**: 専用ディレクトリに隔離、Git管理の選択的適用
- **ディレクトリ構造**: 目的別分類、論理的階層、拡張性確保
- **重複排除**: 同じ目的のディレクトリは作らない

#### 📚 2. ドキュメント正確性
- **実装との同期**: コード変更時にドキュメントも必ず更新
- **テスト可能な手順書**: 記載コマンドは実際に動作確認済み
- **完全な索引維持**: 全ドキュメントにアクセス可能な目次

#### 🔄 3. 継続的クリーン化
- **新しいファイルは既存カテゴリに配置**
- **目的が不明なファイルは作らない**
- **定期的な構造見直し**
- **即座修正**: 発見した問題は最優先で修正

## 📊 進捗管理

### プロジェクトの進捗状況
- **進捗管理ファイル**: `docs/planning/milestones.md`
- **現在のステータス**: 作業開始時に確認

### Claude Codeの進捗管理ルール
1. **作業完了時**: milestones.mdを必ず更新する
2. **進捗確認時**: milestones.mdの情報を参照して回答する
3. **新機能追加時**: 該当するStageの項目を更新する
4. **定期更新**: 大きな変更があった場合は更新履歴に記載する

## 🎯 Development Mode Settings

**現在高速モード** 
<!-- 現在高速モード / 現在慎重モード のどちらかを記載 -->

### モード切り替え方法
```
# 高速モードに切り替え
"高速モードに切り替えて"

# 慎重モードに切り替え  
"慎重モードに切り替えて"
```

### 🚀 高速モード (Fast Development Mode)
- ソースコード変更を確認なしで実行
- アイデアを素早く形にすることを優先
- 複数の修正を連続して適用
- エラーが出たら修正して継続

### 🔍 慎重モード (Careful Development Mode)  
- ソースコード変更前に毎回確認を求める
- 一つずつ丁寧に変更内容を説明
- ユーザーの承認後に変更を実行
- 重要な修正や本番環境では必須

## 📋 DRY原則の厳守 (Don't Repeat Yourself)
- **重複コードの排除**: 同じロジックは関数・クラス・モジュールとして切り出す
- **設定の一元化**: 定数・設定値は一箇所で管理し、複数箇所で参照
- **共通処理の抽象化**: 似たような処理は共通関数として実装
- **コピー&ペーストの禁止**: 既存コードをコピーする前に共通化を検討
- **リファクタリングの推奨**: 重複が発見された場合は積極的に統合

## ⚠️ 重要な教訓

### 🚨 ユーザーの指示を必ず従う
- **ユーザーが「まずは〇〇」と言ったら、必ずその順序で実行する**
- **「シンプルで確実な方法で一歩一歩」と言われたら、複雑化しない**
- **勝手に機能を追加したり、指示を無視してはいけない**

### ✅ 正しいアプローチ
1. **指示を正確に理解する**
2. **余計な機能を追加しない**
3. **確認してから進める**
4. **シンプルを保つ**

## 🔒 常に確認が必要な操作（モードに関係なく）
- **危険なコマンド**: `rm -rf`, `sudo`, `chmod +x` など
- **Git操作**: `git push`, `git reset --hard`, `git clean -fd`
- **パッケージインストール**: `npm install`, `pip install` 
- **環境変数の変更**: `.env` ファイルの編集
- **データベース操作**: DROP, DELETE, TRUNCATE など
- **ファイル削除**: 既存ファイルの削除

## 重要
返答は必ず日本語で行ってください。