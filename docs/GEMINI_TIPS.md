# GEMINI.md 活用Tips集

**重要: Gemini CLIエージェントは、プロジェクトルートの`GEMINI.md`を自動的に読み込みません。**
セッション開始時に「`GEMINI.md`を読み込んで」と明示的に指示することで、設定を適用できます。
`GEMINI.md`は、`script/create_gemini_md.sh`スクリプトを実行すると自動で作成・追記されます。

このドキュメントは、Geminiを効果的に活用するための実践的なTips集です。初心者から上級者まで、段階的にスキルアップできるように構成されています。

## 📚 目次

1. [GEMINI.mdとは](#geminimdとは)
2. [初心者向けTips](#初心者向けtips)
3. [中級者向けTips](#中級者向けtips)
4. [上級者向けTips](#上級者向けtips)
5. [実践的な活用事例](#実践的な活用事例)
6. [テンプレート集](#テンプレート集)

---

## GEMINI.mdとは

GEMINI.mdは、Geminiがプロジェクトの文脈を理解し、より適切な支援を提供するための設定ファイルです。プロジェクトルート、またはユーザーのホームディレクトリに配置することで、以下のような効果があります：

- **プロジェクト固有の知識の共有**
- **開発ルールやスタイルガイドの徹底**
- **よく使うコマンドやワークフローの定義**
- **チーム全体での一貫性の確保**

---

## 🌱 初心者向けTips

### Tip 1: `create_gemini_md.sh`スクリプトのエイリアス設定

`script/create_gemini_md.sh`スクリプトをどこからでも実行できるように、`~/.bashrc`または`~/.zshrc`にエイリアスを設定することを推奨します。

```bash
# ~/.bashrc または ~/.zshrc に追加
alias create_gemini_md="bash ~/vibeSettings/script/create_gemini_md.sh"
```

設定を反映させるために、ターミナルを再起動するか、`source ~/.bashrc`（または`source ~/.zshrc`）を実行してください。

### Tip 2: プロジェクトの概要を必ず書く

```markdown
## プロジェクトの目的
このプロジェクトは、ECサイトのバックエンドAPIを提供します。
主な機能：商品管理、注文処理、ユーザー認証
```

**効果**: Geminiがプロジェクトの全体像を理解し、より適切な提案ができます。

### Tip 3: よく使うコマンドをリスト化

```markdown
## よく使うコマンド
- `npm run dev` - 開発サーバー起動
- `npm test` - テスト実行
- `npm run build` - ビルド
```

**効果**: Geminiが適切なコマンドを提案でき、手順の説明が正確になります。

### Tip 4: ディレクトリ構造を明記

```markdown
## プロジェクト構造
```
src/
  ├── controllers/   # APIエンドポイント
  ├── models/       # データモデル
  ├── services/     # ビジネスロジック
  └── utils/        # ユーティリティ関数
```
```

**効果**: Geminiが新しいファイルを適切な場所に作成できます。

### Tip 5: 開発環境の要件を記載

```markdown
## 開発環境
- Node.js: v18以上
- PostgreSQL: v14以上
- Redis: v7以上（キャッシュ用）
```

**効果**: 環境固有の問題を避け、適切な解決策を提案できます。

### Tip 6: コーディング規約を簡潔に

```markdown
## コーディング規約
- TypeScriptを使用
- インデント: 2スペース
- セミコロン: なし
- クォート: シングルクォート
```

**効果**: 生成されるコードがプロジェクトのスタイルに合致します。

---

## 🚀 中級者向けTips

### Tip 7: モード切り替えで開発速度を制御

```markdown
## 🎯 Development Mode Settings

**現在高速モード**

### モード切り替え方法
- 高速モード: "高速モードに切り替えて"
- 慎重モード: "慎重モードに切り替えて"
```

**効果**: 開発フェーズに応じて、スピードと安全性のバランスを調整できます。

### Tip 8: 危険な操作を明示的に定義

```markdown
## ⚠️ 危険な操作（必ず確認）
- データベースのDROP操作
- 本番環境へのデプロイ
- ユーザーデータの削除
- 課金関連の処理
```

**効果**: 重要な操作でのミスを防ぎ、安全性を確保します。

### Tip 9: プロジェクト固有の用語集

```markdown
## 📖 用語集
- **SKU**: 在庫管理単位（Stock Keeping Unit）
- **PV**: ページビュー
- **CVR**: コンバージョン率
- **在庫引当**: 注文時に在庫を確保する処理
```

**効果**: ドメイン固有の用語を正しく理解し、適切なコードを生成します。

### Tip 10: テスト戦略を明確化

```markdown
## テスト戦略
- 単体テスト: Jest（カバレッジ目標: 80%）
- E2Eテスト: Playwright（主要フローのみ）
- テスト前に必ず: `npm run test:unit`
- PR前に必ず: `npm run test:all`
```

**効果**: テストコードの生成が適切になり、品質が向上します。

### Tip 11: エラーハンドリングのパターン

```markdown
## エラーハンドリング
```typescript
// 標準的なエラーレスポンス
{
  error: {
    code: "PRODUCT_NOT_FOUND",
    message: "商品が見つかりません",
    details: { productId: "xxx" }
  }
}
```
```

**効果**: 一貫性のあるエラー処理が実装されます。

---

## 🎯 上級者向けTips

### Tip 12: コンテキスト依存の振る舞い

```markdown
## コンテキスト別の振る舞い

### 新機能開発時
1. 仕様の確認を最優先
2. 既存コードとの整合性チェック
3. テストファーストで実装

### バグ修正時
1. 再現手順の確認
2. 影響範囲の調査
3. リグレッションテストの追加
```

**効果**: 作業の文脈に応じて、Geminiが適切なアプローチを選択します。

### Tip 13: 自動化スクリプトの定義

```markdown
## 自動化タスク

### 新しいAPIエンドポイント追加時
```bash
# 以下を自動実行
1. コントローラーファイル作成
2. サービスファイル作成
3. テストファイル作成
4. OpenAPIスキーマ更新
5. ルーティング設定追加
```
```

**効果**: 複雑なタスクを一貫性を持って実行できます。

### Tip 14: パフォーマンス基準の設定

```markdown
## パフォーマンス基準
- API応答時間: 200ms以下（P95）
- データベースクエリ: 50ms以下
- メモリ使用量: 512MB以下
- 同時接続数: 1000以上

### 最適化の優先順位
1. N+1クエリの解消
2. インデックスの追加
3. キャッシュの活用
```

**効果**: パフォーマンスを意識したコードが生成されます。

### Tip 15: デプロイメント戦略

```markdown
## デプロイメント

### ステージング環境
```bash
# 自動デプロイ（mainブランチ）
git push origin main
# 手動確認後、本番へ
```

### 本番環境
```bash
# タグベースデプロイ
git tag -a v1.2.3 -m "Release version 1.2.3"
git push origin v1.2.3
```

### ロールバック手順
1. 前バージョンのタグを確認
2. `kubectl rollout undo deployment/api`
```

**効果**: 安全で予測可能なデプロイメントプロセスを実現します。

### Tip 16: メタプログラミング的な活用

```markdown
## Geminiへの指示パターン

### コードレビュー依頼時
"以下の観点でレビューしてください：
- セキュリティ脆弱性
- パフォーマンス問題
- 可読性と保守性"

### リファクタリング依頼時
"DRY原則に従って重複を排除し、
単一責任の原則を適用してください"
```

**効果**: Geminiの能力を最大限に引き出す指示ができます。

---

## 📋 実践的な活用事例

### 事例1: スタートアップでのMVP開発

```markdown
## プロジェクト設定（MVP開発）

### 開発方針
- スピード最優先（技術的負債は後で返済）
- 最小限の機能で市場検証
- フィードバックループを短く

### 現在のフェーズ
**Phase 1: MVP構築中**
- [ ] ユーザー登録・ログイン
- [x] 基本的なCRUD機能
- [ ] 決済機能（Stripe連携）

### 開発モード
**現在高速モード** - アイデアを素早く形に
```

### 事例2: エンタープライズ開発

```markdown
## プロジェクト設定（エンタープライズ）

### 品質基準
- コードカバレッジ: 90%以上
- 静的解析: エラー0、警告10以下
- セキュリティスキャン: 週次実施

### 承認プロセス
1. 機能追加前: アーキテクトレビュー必須
2. DB変更: DBAチームの承認
3. API変更: 下位互換性の確認

### 開発モード
**現在慎重モード** - 品質と安定性を重視
```

### 事例3: オープンソースプロジェクト

```markdown
## プロジェクト設定（OSS）

### コントリビューター向けガイド
- PR前に必ず: `npm run lint && npm test`
- コミットメッセージ: Conventional Commits準拠
- ブランチ名: feature/*, bugfix/*, docs/*

### Geminiへの特別指示
- 全てのコードにJSDocコメントを追加
- 変更履歴をCHANGELOG.mdに記載
- 破壊的変更は明示的に警告
```

---

## 📁 テンプレート集

### 基本テンプレート（template/basic.md）

```markdown
# プロジェクト名

## プロジェクトの目的
[プロジェクトの概要を2-3行で]

## 技術スタック
- 言語: 
- フレームワーク: 
- データベース: 

## 開発環境セットアップ
```bash
# 依存関係のインストール
npm install

# 開発サーバー起動
npm run dev
```

## よく使うコマンド
- `npm run dev` - 開発サーバー
- `npm test` - テスト実行
- `npm run build` - ビルド
```

### Webアプリケーションテンプレート（template/webapp.md）

```markdown
# Webアプリケーション名

## アーキテクチャ
- フロントエンド: React + TypeScript
- バックエンド: Node.js + Express
- データベース: PostgreSQL
- キャッシュ: Redis

## ディレクトリ構造
```
frontend/
  ├── src/
  │   ├── components/
  │   ├── pages/
  │   └── hooks/
backend/
  ├── src/
  │   ├── routes/
  │   ├── controllers/
  │   └── models/
```

## API設計原則
- RESTful API
- JSONレスポンス
- JWT認証
- エラーコード体系化
```

### マイクロサービステンプレート（template/microservices.md）

```markdown
# マイクロサービスプロジェクト

## サービス一覧
- auth-service: 認証・認可
- user-service: ユーザー管理
- product-service: 商品管理
- order-service: 注文処理

## 共通設定
- 通信: gRPC
- サービスメッシュ: Istio
- モニタリング: Prometheus + Grafana
- ログ: Fluentd + Elasticsearch

## 開発ルール
- 各サービスは独立してデプロイ可能
- APIバージョニング必須
- サービス間通信は必ず非同期
```

---

## 🔄 継続的な改善

### GEMINI.mdの育て方

1. **定期的な見直し**
   - 月1回、内容の妥当性をチェック
   - 使われていない設定は削除
   - 新しいパターンは追加

2. **チームでの共有**
   - 便利な設定は共有
   - 改善案は積極的に提案
   - ベストプラクティスの蓄積

3. **効果測定**
   - 開発速度の向上
   - エラー率の低下
   - コード品質の向上

### まとめ

GEMINI.mdは単なる設定ファイルではなく、チームの知識とベストプラクティスを集約した「生きたドキュメント」です。継続的に改善し、プロジェクトと共に成長させることで、開発効率と品質の両方を向上させることができます。

---

*このドキュメントは随時更新されます。新しいTipsやテンプレートがあれば、ぜひ追加してください。*
